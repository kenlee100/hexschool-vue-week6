import{_,r as h,o as n,c as d,a as e,t as o,f as g,v,b as I,F as P}from"./index-75a156c2.js";const{VITE_APP_URL:a,VITE_APP_PATH:p}={VITE_APP_PATH:"ken100",VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},f={data(){return{isLoading:!1,productItem:{},qty:1}},methods:{getProductItem(i){this.$http.get(`${a}/api/${p}/product/${i}`).then(s=>{this.productItem=s.data.product,this.isLoading=!1}).catch(s=>{alert(`${s.response.data.message}`),this.isLoading=!1})},addCart(i,s=1){this.$http.post(`${a}/api/${p}/cart`,{data:{product_id:i.id,qty:s}}).then(r=>{const{message:l,data:{product:t}}=r.data;alert(`${t.title} ${l}`)}).catch(r=>{alert(`${r.response.data.message}`)})}},mounted(){this.isLoading=!0,this.getProductItem(this.$route.params.id)}},y={class:"row"},L={class:"col-sm-6"},V=["src"],b={key:1,class:"img-fluid",src:"https://placehold.co/640x480?text=No+Photo",alt:""},E={class:"col-sm-6"},x={class:"badge bg-primary rounded-pill"},A={class:"h5"},T={class:"h6"},U={class:"h5"},k={class:"input-group"};function D(i,s,r,l,t,u){const m=h("VueLoading");return n(),d(P,null,[e("h1",null,o(t.productItem.title),1),e("div",y,[e("div",L,[t.productItem.imageUrl?(n(),d("img",{key:0,class:"img-fluid",src:t.productItem.imageUrl,alt:""},null,8,V)):(n(),d("img",b))]),e("div",E,[e("span",x,o(t.productItem.category),1),e("p",null,"商品描述："+o(t.productItem.description),1),e("p",null,"商品內容："+o(t.productItem.content),1),e("div",A,o(t.productItem.price)+" 元",1),e("del",T,"原價 "+o(t.productItem.origin_price)+" 元",1),e("div",U,"現在只要 "+o(t.productItem.price)+" 元",1),e("div",null,[e("div",k,[g(e("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":s[0]||(s[0]=c=>t.qty=c)},null,512),[[v,t.qty,void 0,{number:!0}]]),e("button",{type:"button",onClick:s[1]||(s[1]=c=>u.addCart(t.productItem)),class:"btn btn-primary"}," 加入購物車 ")])])])]),I(m,{active:t.isLoading,"onUpdate:active":s[2]||(s[2]=c=>t.isLoading=c)},null,8,["active"])],64)}const C=_(f,[["render",D]]);export{C as default};
